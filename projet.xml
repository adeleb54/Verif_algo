<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>// Place global declarations here.

//Variables du système
int[0,3] ptVieJoueur = 3;
int[0,2000] ptVieBoss = 20;
int [1, 5] coutBdf;
int [1, 5] coutBouclier;
//int [1, 3] pouvoirJoueur;
bool pouvoirActif = true;
bool bouclierActif = false;
int [1, 6] positionJoueur;
int [0, 6] positionBouleBoss;
int [0, 6] positionBouleJoueur;

//Horloges du système
clock deplacementJoueur;
clock tempsPouvoir;
clock tempsAttaque;
clock tempsCaCJoueur;

//Événements du système
chan deplGaucheJoueur;
chan deplDroiteJoueur;
chan saut;
chan utilisationPouvoirJoueur;
chan attaqueCaCJoueur;
chan attaqueCaCBoss;
chan finDuJeu;

/*void lanceBouleDeFeu(int pos){
}

void degatsBoss() {

}*/

void applicationDegats() {
    if (positionBouleBoss == positionJoueur &amp;&amp; !bouclierActif &amp;&amp; ptVieJoueur &gt; 0) {
        ptVieJoueur--;
        pouvoirActif = false;
    }
}

void cacBoss() {
    if (!bouclierActif &amp;&amp; ptVieJoueur &gt; 0) {
        ptVieJoueur--;
        pouvoirActif = false;
    }
}
</declaration>
	<template>
		<name x="5" y="5">PlateauJoueur</name>
		<parameter>const int pouvoirJoueur</parameter>
		<declaration>// Place local declarations here.

clock tpsSaut;

void activationBouclier(){
    if(pouvoirActif){
        //Si le pouvoir utilisé est le bouclier
        if(pouvoirJoueur== 2){
            if(bouclierActif){
                bouclierActif = false;
            }
            else {
                bouclierActif = true;
            }
        }
    }
}</declaration>
		<location id="id0" x="-365" y="-459">
			<name x="-357" y="-450">FinDuJeu</name>
		</location>
		<location id="id1" x="1122" y="170">
			<label kind="comments" x="1105" y="136">3</label>
		</location>
		<location id="id2" x="1130" y="-246">
			<label kind="invariant" x="1028" y="-272">tpsSaut&lt;=2</label>
			<label kind="comments" x="1113" y="-280">6</label>
		</location>
		<location id="id3" x="544" y="-238">
			<label kind="invariant" x="442" y="-221">tpsSaut&lt;=2</label>
			<label kind="comments" x="552" y="-230">5</label>
		</location>
		<location id="id4" x="-76" y="-238">
			<label kind="invariant" x="-187" y="-231">tpsSaut&lt;=2</label>
			<label kind="comments" x="-110" y="-247">4</label>
		</location>
		<location id="id5" x="544" y="170">
			<label kind="comments" x="552" y="136">2</label>
		</location>
		<location id="id6" x="-59" y="170">
			<label kind="comments" x="-85" y="178">1</label>
		</location>
		<init ref="id6"/>
		<transition>
			<source ref="id1"/>
			<target ref="id6"/>
			<label kind="guard" x="306" y="425">ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="306" y="442">attaqueCaCJoueur?</label>
			<label kind="assignment" x="306" y="459">ptVieBoss--, positionJoueur=1, tempsCaCJoueur=0,deplacementJoueur=0</label>
			<nail x="1122" y="459"/>
			<nail x="-306" y="459"/>
			<nail x="-306" y="170"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id6"/>
			<label kind="guard" x="272" y="-450">ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="272" y="-433">attaqueCaCJoueur?</label>
			<label kind="assignment" x="272" y="-416">ptVieBoss--, positionJoueur=1, tempsCaCJoueur=0,deplacementJoueur=0</label>
			<nail x="1130" y="-399"/>
			<nail x="-323" y="-391"/>
			<nail x="-323" y="170"/>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-161" y="391">finDuJeu?</label>
			<nail x="-59" y="408"/>
			<nail x="-365" y="408"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="442" y="391">finDuJeu?</label>
			<nail x="544" y="408"/>
			<nail x="-365" y="408"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="1011" y="391">finDuJeu?</label>
			<nail x="1122" y="408"/>
			<nail x="-365" y="408"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="246" y="-476">finDuJeu?</label>
			<nail x="544" y="-459"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="629" y="-476">finDuJeu?</label>
			<nail x="1130" y="-459"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-229" y="-476">finDuJeu?</label>
			<nail x="-76" y="-459"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id1"/>
			<label kind="guard" x="1198" y="-34">pouvoirJoueur==3</label>
			<label kind="synchronisation" x="1198" y="-17">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="1198" y="0">positionJoueur=3</label>
			<nail x="1181" y="-25"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id5"/>
			<label kind="guard" x="595" y="-59">pouvoirJoueur==3</label>
			<label kind="synchronisation" x="595" y="-42">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="595" y="-25">positionJoueur=2</label>
			<nail x="586" y="-8"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id6"/>
			<label kind="guard" x="-17" y="34">pouvoirJoueur==3</label>
			<label kind="synchronisation" x="-17" y="51">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-17" y="68">positionJoueur=1</label>
			<nail x="-34" y="34"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id2"/>
			<label kind="guard" x="1173" y="-229">pouvoirJoueur==3&amp;&amp;pouvoirActif</label>
			<label kind="assignment" x="1173" y="-212">tpsSaut=0</label>
			<nail x="1181" y="-238"/>
			<nail x="1164" y="-212"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id4"/>
			<label kind="guard" x="-144" y="-306">pouvoirJoueur==2&amp;&amp;tempsPouvoir&gt;=2</label>
			<label kind="synchronisation" x="-144" y="-357">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-144" y="-340">activationBouclier(),
tempsPouvoir=0</label>
			<nail x="-77" y="-282"/>
			<nail x="-43" y="-282"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id3"/>
			<label kind="guard" x="586" y="-280">pouvoirJoueur==2&amp;&amp;tempsPouvoir&gt;=2</label>
			<label kind="synchronisation" x="586" y="-297">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="586" y="-331">activationBouclier(),
tempsPouvoir=0</label>
			<nail x="561" y="-281"/>
			<nail x="586" y="-263"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id3"/>
			<label kind="guard" x="408" y="-382">pouvoirJoueur==3&amp;&amp;
pouvoirActif&amp;&amp;
deplacementJoueur&gt;=4&amp;&amp;
!bouclierActif</label>
			<label kind="assignment" x="408" y="-314">tpsSaut=0</label>
			<nail x="467" y="-281"/>
			<nail x="501" y="-298"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id4"/>
			<label kind="guard" x="-357" y="-265">pouvoirJoueur==3&amp;&amp;pouvoirActif</label>
			<label kind="assignment" x="-213" y="-282">tpsSaut=0</label>
			<nail x="-136" y="-239"/>
			<nail x="-119" y="-265"/>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id6"/>
			<label kind="guard" x="-127" y="272">pouvoirJoueur==2&amp;&amp;tempsPouvoir&gt;=2</label>
			<label kind="synchronisation" x="-127" y="221">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-127" y="238">activationBouclier(),
tempsPouvoir=0</label>
			<nail x="-76" y="221"/>
			<nail x="-42" y="221"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id5"/>
			<label kind="guard" x="484" y="272">pouvoirJoueur==2&amp;&amp;tempsPouvoir&gt;=2</label>
			<label kind="synchronisation" x="476" y="221">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="484" y="238">activationBouclier(),
tempsPouvoir=0</label>
			<nail x="527" y="221"/>
			<nail x="570" y="221"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id1"/>
			<label kind="guard" x="1147" y="-110">tpsSaut &gt;= 2 &amp;&amp; pouvoirJoueur!=3</label>
			<label kind="assignment" x="1147" y="-93">positionJoueur=3</label>
			<nail x="1130" y="76"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id5"/>
			<label kind="guard" x="551" y="-153">tpsSaut &gt;= 2 &amp;&amp; pouvoirJoueur!=3</label>
			<label kind="assignment" x="552" y="-136">positionJoueur=2</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id6"/>
			<label kind="guard" x="-76" y="-34">tpsSaut &gt;= 2 &amp;&amp; pouvoirJoueur!=3</label>
			<label kind="assignment" x="-76" y="-17">positionJoueur=1</label>
			<nail x="-76" y="-17"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="guard" x="119" y="-161">pouvoirJoueur==3&amp;&amp;
pouvoirActif&amp;&amp;
deplacementJoueur&gt;=4&amp;&amp;!bouclierActif</label>
			<label kind="synchronisation" x="119" y="-178">deplGaucheJoueur?</label>
			<label kind="assignment" x="119" y="-212">positionJoueur=4,
deplacementJoueur=0</label>
			<nail x="178" y="-221"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="guard" x="790" y="-161">pouvoirJoueur==3&amp;&amp;
pouvoirActif&amp;&amp;
deplacementJoueur&gt;=4</label>
			<label kind="synchronisation" x="790" y="-177">deplGaucheJoueur?</label>
			<label kind="assignment" x="790" y="-211">positionJoueur=5,
deplacementJoueur=0</label>
			<nail x="858" y="-221"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id5"/>
			<label kind="guard" x="782" y="51">deplacementJoueur&gt;=4&amp;&amp;!bouclierActif</label>
			<label kind="synchronisation" x="782" y="68">deplGaucheJoueur?</label>
			<label kind="assignment" x="782" y="85">positionJoueur=2,
deplacementJoueur=0</label>
			<nail x="841" y="119"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="guard" x="178" y="68">deplacementJoueur&gt;=10&amp;&amp;!bouclierActif</label>
			<label kind="synchronisation" x="178" y="85">deplGaucheJoueur?</label>
			<label kind="assignment" x="178" y="102">positionJoueur=1,
deplacementJoueur=0</label>
			<nail x="238" y="144"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id2"/>
			<label kind="guard" x="1190" y="-246">pouvoirJoueur==2&amp;&amp;tempsPouvoir&gt;=2</label>
			<label kind="synchronisation" x="1190" y="-297">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="1190" y="-280">activationBouclier(),
tempsPouvoir=0</label>
			<nail x="1181" y="-254"/>
			<nail x="1182" y="-288"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id1"/>
			<label kind="guard" x="1173" y="289">pouvoirJoueur==2&amp;&amp;tempsPouvoir&gt;=2</label>
			<label kind="synchronisation" x="1172" y="237">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="1172" y="254">activationBouclier(),
tempsPouvoir=0</label>
			<nail x="1181" y="195"/>
			<nail x="1181" y="229"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="272" y="-340">attaqueCaCBoss?</label>
			<label kind="assignment" x="272" y="-365">positionJoueur = 1</label>
			<label kind="comments" x="162" y="-365">Joueur projeté</label>
			<nail x="1130" y="-348"/>
			<nail x="-238" y="-340"/>
			<nail x="-238" y="170"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="187" y="331">attaqueCaCBoss?</label>
			<label kind="assignment" x="187" y="348">positionJoueur = 1</label>
			<label kind="comments" x="68" y="357">Joueur projeté</label>
			<nail x="1122" y="348"/>
			<nail x="-238" y="348"/>
			<nail x="-238" y="170"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id2"/>
			<label kind="guard" x="960" y="-68">tpsSaut&gt;=1</label>
			<label kind="synchronisation" x="960" y="-51">saut?</label>
			<label kind="assignment" x="960" y="-34">positionJoueur = 6,
tpsSaut = 0,
applicationDegats()</label>
			<nail x="1096" y="-25"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id3"/>
			<label kind="guard" x="374" y="-85">tpsSaut&gt;=1</label>
			<label kind="synchronisation" x="374" y="-68">saut?</label>
			<label kind="assignment" x="374" y="-51">positionJoueur = 5,
tpsSaut = 0,
applicationDegats()</label>
			<nail x="510" y="-8"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id1"/>
			<label kind="guard" x="799" y="246">deplacementJoueur&gt;=4&amp;&amp;!bouclierActif</label>
			<label kind="synchronisation" x="799" y="178">deplDroiteJoueur?</label>
			<label kind="assignment" x="799" y="195">positionJoueur=3,
deplacementJoueur=0,
tempsCaCJoueur=0</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id2"/>
			<label kind="guard" x="790" y="-374">pouvoirJoueur==3&amp;&amp;
deplacementJoueur&gt;=4&amp;&amp;
pouvoirActif&amp;&amp;
!bouclierActif</label>
			<label kind="synchronisation" x="790" y="-306">deplDroiteJoueur?</label>
			<label kind="assignment" x="790" y="-289">positionJoueur=6,
deplacementJoueur=0</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id3"/>
			<label kind="guard" x="119" y="-340">pouvoirJoueur==3&amp;&amp;
pouvoirActif&amp;&amp;
deplacementJoueur&gt;=4&amp;&amp;!bouclierActif</label>
			<label kind="synchronisation" x="119" y="-255">deplDroiteJoueur?</label>
			<label kind="assignment" x="119" y="-289">positionJoueur=5,
deplacementJoueur=0</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id4"/>
			<label kind="guard" x="-221" y="-42">tpsSaut&gt;=1</label>
			<label kind="synchronisation" x="-221" y="-25">saut?</label>
			<label kind="assignment" x="-221" y="-8">positionJoueur = 4,
tpsSaut = 0,
applicationDegats()</label>
			<label kind="comments" x="-153" y="-189">Saut</label>
			<nail x="-110" y="-25"/>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id5"/>
			<label kind="guard" x="178" y="229">deplacementJoueur&gt;=10&amp;&amp;!bouclierActif</label>
			<label kind="synchronisation" x="178" y="178">deplDroiteJoueur?</label>
			<label kind="assignment" x="178" y="195">positionJoueur=2,
deplacementJoueur=0</label>
		</transition>
	</template>
	<template>
		<name>PlateauBouleDeFeuJoueur</name>
		<parameter>const int pouvoirJoueur</parameter>
		<declaration>
clock t;</declaration>
		<location id="id7" x="1411" y="-161">
			<label kind="invariant" x="1394" y="-144">t&lt;=2</label>
			<label kind="comments" x="1419" y="-186">6</label>
		</location>
		<location id="id8" x="739" y="-161">
			<label kind="invariant" x="722" y="-144">t&lt;=2</label>
			<label kind="comments" x="748" y="-186">5</label>
		</location>
		<location id="id9" x="1411" y="127">
			<label kind="invariant" x="1394" y="152">t&lt;=2</label>
			<label kind="comments" x="1419" y="101">3</label>
		</location>
		<location id="id10" x="739" y="127">
			<label kind="invariant" x="722" y="153">t&lt;=2</label>
			<label kind="comments" x="748" y="101">2</label>
		</location>
		<location id="id11" x="102" y="127">
			<label kind="invariant" x="85" y="144">t&lt;=2</label>
			<label kind="comments" x="110" y="101">1</label>
		</location>
		<location id="id12" x="102" y="-161">
			<label kind="invariant" x="85" y="-144">t&lt;=2</label>
			<label kind="comments" x="110" y="-186">4</label>
		</location>
		<location id="id13" x="-297" y="-8">
		</location>
		<location id="id14" x="102" y="-8">
			<urgent/>
		</location>
		<init ref="id13"/>
		<transition>
			<source ref="id14"/>
			<target ref="id13"/>
			<label kind="assignment" x="-263" y="-8">t=0,
positionBouleJoueur = 0,
positionBouleBoss = 0</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id14"/>
			<label kind="guard" x="1419" y="34">t&gt;=2</label>
			<label kind="assignment" x="1419" y="51">ptVieBoss--</label>
			<nail x="1411" y="-8"/>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id14"/>
			<label kind="guard" x="1419" y="-102">t&gt;=2</label>
			<label kind="assignment" x="1419" y="-85">ptVieBoss--</label>
			<nail x="1411" y="-8"/>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id14"/>
			<label kind="guard" x="595" y="-93">t&gt;=2 &amp;&amp;
positionBouleBoss == positionBouleJoueur</label>
			<nail x="739" y="-8"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id14"/>
			<label kind="guard" x="595" y="42">t&gt;=2 &amp;&amp;
positionBouleBoss == positionBouleJoueur</label>
			<nail x="739" y="-8"/>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id14"/>
			<label kind="guard" x="-42" y="51">t&gt;=2 &amp;&amp;
positionBouleBoss == positionBouleJoueur</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id14"/>
			<label kind="guard" x="-42" y="-93">t&gt;=2 &amp;&amp;
positionBouleBoss == positionBouleJoueur</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id9"/>
			<label kind="guard" x="-280" y="348">positionJoueur==3 &amp;&amp; pouvoirJoueur == 1 &amp;&amp; pouvoirActif</label>
			<label kind="synchronisation" x="-280" y="365">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-280" y="382">positionBouleJoueur = 3,
t = 0</label>
			<nail x="-298" y="348"/>
			<nail x="1410" y="348"/>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id10"/>
			<label kind="guard" x="-280" y="254">positionJoueur==2 &amp;&amp; pouvoirJoueur == 1 &amp;&amp; pouvoirActif</label>
			<label kind="synchronisation" x="-281" y="271">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-280" y="288">positionBouleJoueur = 2,
t=0</label>
			<nail x="-297" y="254"/>
			<nail x="739" y="255"/>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id7"/>
			<label kind="guard" x="-280" y="-416">positionJoueur == 6 &amp;&amp; pouvoirJoueur == 1 &amp;&amp; pouvoirActif</label>
			<label kind="synchronisation" x="-280" y="-399">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-280" y="-382">positionBouleJoueur = 6,
t=0</label>
			<nail x="-297" y="-25"/>
			<nail x="-297" y="-365"/>
			<nail x="1411" y="-365"/>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id8"/>
			<label kind="guard" x="-280" y="-297">positionJoueur==5 &amp;&amp; pouvoirJoueur == 1 &amp;&amp; pouvoirActif</label>
			<label kind="synchronisation" x="-280" y="-280">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-280" y="-263">positionBouleJoueur = 5,
t=0</label>
			<nail x="-297" y="-246"/>
			<nail x="739" y="-246"/>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id7"/>
			<label kind="guard" x="1011" y="-161">t&gt;=2 &amp;&amp;
positionBouleBoss != positionBouleJoueur</label>
			<label kind="assignment" x="1011" y="-127">positionBouleJoueur = 6,
t=0</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id8"/>
			<label kind="guard" x="289" y="-161">t&gt;=2 &amp;&amp;
positionBouleBoss != positionBouleJoueur</label>
			<label kind="assignment" x="289" y="-127">positionBouleJoueur = 5,
t=0</label>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id9"/>
			<label kind="guard" x="1003" y="127">t&gt;=2 &amp;&amp;
positionBouleBoss != positionBouleJoueur</label>
			<label kind="assignment" x="1003" y="161">positionBouleJoueur = 3,
t=0</label>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id10"/>
			<label kind="guard" x="263" y="127">t&gt;=2 &amp;&amp;
positionBouleBoss != positionBouleJoueur</label>
			<label kind="assignment" x="263" y="161">positionBouleJoueur = 2,
t=0</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id11"/>
			<label kind="guard" x="-280" y="127">positionJoueur==1 &amp;&amp; pouvoirJoueur == 1 &amp;&amp; pouvoirActif</label>
			<label kind="synchronisation" x="-280" y="178">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-280" y="144">positionBouleJoueur = 1,
t = 0</label>
			<nail x="-288" y="127"/>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id12"/>
			<label kind="guard" x="-280" y="-212">positionJoueur==4 &amp;&amp; pouvoirJoueur == 1 &amp;&amp; pouvoirActif</label>
			<label kind="synchronisation" x="-280" y="-195">utilisationPouvoirJoueur?</label>
			<label kind="assignment" x="-280" y="-178">positionBouleJoueur = 4,
t=0</label>
			<nail x="-288" y="-161"/>
		</transition>
	</template>
	<template>
		<name>PlateauBouleDeFeuBoss</name>
		<declaration>
int[0,2] typeAttaque; // 0 == Cac; 1 == Boule de Feu en haut; 2 == Boule de Feu en Bas
clock t;</declaration>
		<location id="id15" x="-1215" y="-51">
			<label kind="invariant" x="-1232" y="-34">t&lt;=2</label>
			<label kind="comments" x="-1240" y="-76">4</label>
		</location>
		<location id="id16" x="-841" y="-51">
			<label kind="invariant" x="-858" y="-34">t&lt;=2</label>
			<label kind="comments" x="-867" y="-76">5</label>
		</location>
		<location id="id17" x="-1215" y="42">
			<label kind="invariant" x="-1232" y="8">t&lt;=2</label>
			<label kind="comments" x="-1240" y="51">1</label>
		</location>
		<location id="id18" x="-841" y="42">
			<label kind="invariant" x="-858" y="8">t&lt;=2</label>
			<label kind="comments" x="-867" y="51">2</label>
		</location>
		<location id="id19" x="-416" y="42">
			<label kind="invariant" x="-433" y="8">t&lt;=2</label>
			<label kind="comments" x="-442" y="51">3</label>
		</location>
		<location id="id20" x="-416" y="-51">
			<label kind="invariant" x="-433" y="-34">t&lt;=2</label>
			<label kind="comments" x="-442" y="-76">6</label>
		</location>
		<location id="id21" x="-127" y="-8">
			<name x="-195" y="-25">Debut</name>
			<label kind="invariant" x="-195" y="-8">t&lt;=1</label>
		</location>
		<location id="id22" x="-127" y="221">
			<urgent/>
		</location>
		<location id="id23" x="-127" y="-221">
			<urgent/>
		</location>
		<init ref="id21"/>
		<transition>
			<source ref="id21"/>
			<target ref="id21"/>
			<label kind="guard" x="25" y="-8">t&gt;=1 &amp;&amp; typeAttaque == 0 &amp;&amp; ptVieBoss&gt;0 &amp;&amp;ptVieJoueur&gt;0&amp;&amp;
(positionJoueur != 3 &amp;&amp; positionJoueur != 6)</label>
			<label kind="assignment" x="25" y="25">t=0,
typeAttaque=1</label>
			<nail x="17" y="-8"/>
			<nail x="17" y="68"/>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id21"/>
			<label kind="guard" x="-1198" y="297">t&gt;=2 &amp;&amp;
(positionBouleBoss != positionBouleJoueur &amp;&amp;
positionJoueur != positionBouleBoss)</label>
			<label kind="assignment" x="-807" y="297">typeAttaque = 0,
t=0,
positionBouleBoss = 0</label>
			<nail x="-1215" y="357"/>
			<nail x="204" y="357"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id21"/>
			<label kind="guard" x="-1198" y="-391">t&gt;=2 &amp;&amp;
(positionBouleBoss != positionBouleJoueur &amp;&amp;
positionJoueur != positionBouleBoss)</label>
			<label kind="assignment" x="-1197" y="-322">typeAttaque = 2,
t=0,
positionBouleBoss = 0</label>
			<nail x="-1215" y="-331"/>
			<nail x="195" y="-331"/>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id21"/>
			<label kind="assignment" x="-170" y="-204">typeAttaque = 2,
t=0,
positionBouleJoueur = 0,
positionBouleBoss = 0</label>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id23"/>
			<label kind="guard" x="-552" y="-212">(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-476" y="-178">applicationDegats()</label>
			<nail x="-416" y="-68"/>
			<nail x="-416" y="-221"/>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id23"/>
			<label kind="guard" x="-977" y="-212">(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-909" y="-178">applicationDegats()</label>
			<nail x="-841" y="-221"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id23"/>
			<label kind="guard" x="-1351" y="-212">(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-1283" y="-178">applicationDegats()</label>
			<nail x="-1215" y="-68"/>
			<nail x="-1215" y="-221"/>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id21"/>
			<label kind="assignment" x="-178" y="102">typeAttaque = 0,
t=0,
positionBouleJoueur = 0,
positionBouleBoss = 0</label>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id22"/>
			<label kind="guard" x="-552" y="187">(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-398" y="221">applicationDegats()</label>
			<nail x="-416" y="221"/>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id22"/>
			<label kind="guard" x="-943" y="187">(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-901" y="229">applicationDegats()</label>
			<nail x="-841" y="221"/>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id22"/>
			<label kind="guard" x="-1309" y="187">(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-1266" y="221">applicationDegats()</label>
			<nail x="-1215" y="221"/>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id21"/>
			<label kind="guard" x="25" y="-102">t&gt;=1 &amp;&amp; typeAttaque == 0 &amp;&amp; ptVieBoss&gt;0&amp;&amp;ptVieJoueur&gt;0</label>
			<label kind="synchronisation" x="25" y="-119">attaqueCaCBoss!</label>
			<label kind="assignment" x="25" y="-85">typeAttaque = 1,
t=0,
cacBoss()</label>
			<nail x="17" y="-34"/>
			<nail x="17" y="-102"/>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id15"/>
			<label kind="guard" x="-1190" y="-144">t&gt;=1 &amp;&amp;
!(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-1189" y="-93">positionBouleBoss = 4,
t=0</label>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id16"/>
			<label kind="guard" x="-765" y="-161">t&gt;=1 &amp;&amp;
!(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-765" y="-110">positionBouleBoss = 5,
t=0</label>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id17"/>
			<label kind="guard" x="-1181" y="42">t&gt;=1 &amp;&amp;
!(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-1181" y="93">positionBouleBoss = 1,
t=0</label>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id18"/>
			<label kind="guard" x="-799" y="42">t&gt;=1 &amp;&amp;
!(positionBouleBoss == positionBouleJoueur ||
positionJoueur == positionBouleBoss)</label>
			<label kind="assignment" x="-799" y="93">positionBouleBoss = 2,
t=0</label>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id19"/>
			<label kind="guard" x="-365" y="42">t==1  &amp;&amp; typeAttaque == 1&amp;&amp;ptVieBoss&gt;0&amp;&amp;ptVieJoueur&gt;0</label>
			<label kind="assignment" x="-365" y="59">positionBouleBoss = 3,
t=0</label>
			<nail x="-161" y="42"/>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id20"/>
			<label kind="guard" x="-365" y="-127">t==1 &amp;&amp; typeAttaque == 2&amp;&amp;ptVieBoss&gt;0&amp;&amp;ptVieJoueur&gt;0</label>
			<label kind="assignment" x="-365" y="-110">positionBouleBoss = 6,
t=0</label>
			<nail x="-161" y="-51"/>
		</transition>
	</template>
	<template>
		<name>GestionJoueur</name>
		<location id="id24" x="0" y="195">
			<name x="-85" y="204">FinDuJeu</name>
		</location>
		<location id="id25" x="0" y="0">
		</location>
		<init ref="id25"/>
		<transition>
			<source ref="id24"/>
			<target ref="id24"/>
			<nail x="34" y="289"/>
			<nail x="-25" y="289"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id24"/>
			<label kind="guard" x="0" y="136">ptVieJoueur==0 || ptVieBoss==0</label>
			<label kind="synchronisation" x="0" y="119">finDuJeu!</label>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id25"/>
			<label kind="guard" x="8" y="68">ptVieJoueur&gt;0 &amp;&amp; ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="8" y="51">attaqueCaCJoueur!</label>
			<nail x="51" y="42"/>
			<nail x="34" y="51"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id25"/>
			<label kind="guard" x="-246" y="68">ptVieJoueur&gt;0 &amp;&amp; ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="-238" y="51">utilisationPouvoirJoueur!</label>
			<nail x="-51" y="42"/>
			<nail x="-34" y="51"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id25"/>
			<label kind="guard" x="85" y="-8">ptVieJoueur&gt;0 &amp;&amp; ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="85" y="-25">deplDroiteJoueur!</label>
			<label kind="assignment" x="85" y="8">applicationDegats()</label>
			<nail x="76" y="-25"/>
			<nail x="76" y="0"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id25"/>
			<label kind="guard" x="-25" y="-68">ptVieJoueur&gt;0 &amp;&amp; ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="-25" y="-85">saut!</label>
			<label kind="assignment" x="-25" y="-102">applicationDegats()</label>
			<nail x="-25" y="-42"/>
			<nail x="17" y="-42"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id25"/>
			<label kind="guard" x="-280" y="-17">ptVieJoueur&gt;0 &amp;&amp; ptVieBoss&gt;0</label>
			<label kind="synchronisation" x="-246" y="-34">deplGaucheJoueur!</label>
			<label kind="assignment" x="-280" y="0">applicationDegats()</label>
			<nail x="-76" y="-25"/>
			<nail x="-76" y="0"/>
		</transition>
	</template>
	<system>// BdF = 1, bouclier = 2, vol = 3

const int pouvoir = 0;

Plateau = PlateauJoueur(pouvoir);
BdfJoueur = PlateauBouleDeFeuJoueur(pouvoir);
system Plateau, BdfJoueur,  PlateauBouleDeFeuBoss, GestionJoueur;
</system>
	<queries>
		<query>
			<formula>E&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur==0</formula>
			<comment></comment>
		</query>
		<query>
			<formula>E&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur==1</formula>
			<comment></comment>
		</query>
		<query>
			<formula>E&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur==2</formula>
			<comment></comment>
		</query>
		<query>
			<formula>E&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur==3</formula>
			<comment></comment>
		</query>
		<query>
			<formula>E&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur&gt;0
</formula>
			<comment></comment>
		</query>
		<query>
			<formula>A&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur&gt;0</formula>
			<comment></comment>
		</query>
		<query>
			<formula>E&lt;&gt; GestionJoueur.FinDuJeu and ptVieJoueur==1</formula>
			<comment></comment>
		</query>
	</queries>
</nta>
